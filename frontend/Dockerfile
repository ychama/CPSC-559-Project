FROM node:14.16.1-alpine3.13

ARG REACT_APP_BACKEND_URL
ARG WEBSOCKET_BACKEND_URL

ENV REACT_APP_BACKEND_URL $REACT_APP_BACKEND_URL
ENV WEBSOCKET_BACKEND_URL $WEBSOCKET_BACKEND_URL

WORKDIR /app
COPY package*.json ./
RUN npm i
COPY . .

EXPOSE 3000

ENTRYPOINT [ "npm", "start" ]