FROM node:14.16.1-alpine3.13

ARG REACT_APP_BACKEND_URL
ARG REACT_APP_PROXY_URL

ENV REACT_APP_BACKEND_URL $REACT_APP_BACKEND_URL
ENV REACT_APP_PROXY_URL $REACT_APP_PROXY_URL

WORKDIR /app
COPY package*.json ./
RUN npm i
COPY . .

EXPOSE 3000

ENTRYPOINT [ "npm", "start" ]