FROM node:14.16.1-alpine3.13

ARG REACT_APP_PROXY_URL_1
ARG REACT_APP_PROXY_URL_2
ARG REACT_APP_PROXY_URL_3
ARG REACT_APP_PROXY_URL_4

ENV REACT_APP_PROXY_URL_1 $REACT_APP_PROXY_URL_1
ENV REACT_APP_PROXY_URL_2 $REACT_APP_PROXY_URL_2
ENV REACT_APP_PROXY_URL_3 $REACT_APP_PROXY_URL_3
ENV REACT_APP_PROXY_URL_4 $REACT_APP_PROXY_URL_4

WORKDIR /app
COPY package*.json ./
RUN npm i
COPY . .

EXPOSE 3000

ENTRYPOINT [ "npm", "start" ]